{"ast":null,"code":"var _jsxFileName = \"/Users/lanrealegbeleye/Documents/VIDEOCHATAPP/client/src/pages/VideoChat.tsx\",\n  _s = $RefreshSig$();\n// src/App.tsx\nimport { useEffect, useRef, useState } from 'react';\nimport io from 'socket.io-client';\nimport SimplePeer from 'simple-peer';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport Style from '../Styles.module.css';\nimport ChatBox from '../components/Chat';\nimport ChatInput from '../components/ChatInput';\nimport Nav from '../components/Nav';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst serverUrl = 'http://localhost:8000';\nfunction VideoChat() {\n  _s();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const isNewMeeting = location.state.isNewMeeting; // Set this accordingly\n  const data = location.state;\n  const [yourID, setYourID] = useState('');\n  const [stream, setStream] = useState();\n  const [receivingCall, setReceivingCall] = useState(false);\n  const [caller, setCaller] = useState('');\n  const [partnerUsername, setPartnerUsername] = useState('');\n  const [callerSignal, setCallerSignal] = useState();\n  const [callAccepted, setCallAccepted] = useState(false);\n  const [chatData, setChatData] = useState([]);\n  const userVideoRef = useRef(null);\n  const partnerVideoRef = useRef(null);\n  const socketRef = useRef();\n  const buttonRef = useRef();\n  const getVideo = () => {\n    navigator.mediaDevices.getUserMedia({\n      video: true,\n      audio: true\n    }).then(mystream => {\n      setStream(mystream);\n      if (userVideoRef.current) userVideoRef.current.srcObject = mystream;\n    }).catch(error => console.log('Error accessing user media:', error));\n  };\n  useEffect(() => {\n    socketRef.current = io(serverUrl);\n    getVideo();\n    socketRef.current.on('yourID', id => {\n      setYourID(id);\n    });\n    socketRef.current.on('allUsers', users => {\n      if (!isNewMeeting && !users[data.meetingID]) handleUser404();\n    });\n    socketRef.current.on('recievedChat', chat => {\n      setChatData(prev => [...prev, chat.data]);\n    });\n    socketRef.current.on('hey', data => {\n      setReceivingCall(true);\n      setCaller(data.from);\n      setCallerSignal(data.signal);\n      setPartnerUsername(data.username);\n    });\n    socketRef.current.on('user404', msg => {});\n    return () => {\n      socketRef.current.disconnect();\n    };\n  }, []);\n  const handleUser404 = () => {\n    navigate(\"/\", {\n      state: 'User does not exist'\n    });\n  };\n  const endCall = () => {\n    socketRef.current.disconnect();\n    navigate(\"/\", {\n      state: 'Call Ended'\n    });\n  };\n  const callPeer = id => {\n    try {\n      const peer = new SimplePeer({\n        initiator: true,\n        trickle: false,\n        stream: stream\n      });\n      peer.on('signal', peerData => {\n        socketRef.current.emit('callUser', {\n          userToCall: id,\n          signalData: peerData,\n          from: yourID,\n          username: data.username\n        });\n      });\n      peer.on('stream', stream => {\n        if (partnerVideoRef.current) partnerVideoRef.current.srcObject = stream;\n      });\n      socketRef.current.on('callAccepted', data => {\n        setCallAccepted(true);\n        setPartnerUsername(data.username);\n        peer.signal(data.signal);\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  const acceptCall = () => {\n    try {\n      setCallAccepted(true);\n      const peer = new SimplePeer({\n        initiator: false,\n        trickle: false,\n        stream: stream\n      });\n      peer.on('signal', peerData => {\n        socketRef.current.emit('acceptCall', {\n          signal: peerData,\n          to: caller,\n          username: data.username\n        });\n      });\n      peer.on('stream', stream => {\n        if (partnerVideoRef.current) partnerVideoRef.current.srcObject = stream;\n      });\n      peer.signal(callerSignal);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  const sendMessage = msg => {\n    socketRef.current.emit('sentChat', {\n      to: !isNewMeeting ? data.meetingID : caller,\n      data: msg\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: Style.videoPage,\n    children: [/*#__PURE__*/_jsxDEV(Nav, {\n      audio: userVideoRef.current,\n      stream: stream,\n      endCall: endCall\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: Style.videoAndChatSection,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: Style.videoContainer,\n        children: [partnerUsername && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: Style.partnerUsername,\n          children: partnerUsername\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 31\n        }, this), /*#__PURE__*/_jsxDEV(\"video\", {\n          className: Style.userVideo,\n          playsInline: true,\n          muted: true,\n          ref: userVideoRef,\n          autoPlay: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this), callAccepted && /*#__PURE__*/_jsxDEV(\"video\", {\n          className: Style.partnerVideo,\n          playsInline: true,\n          muted: true,\n          ref: partnerVideoRef,\n          autoPlay: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 28\n        }, this), !receivingCall && isNewMeeting && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: Style.waitingMsg,\n          children: \"Waiting for someone to join...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 46\n        }, this), receivingCall && !callAccepted && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.requestMsg,\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [caller, \" wants to join\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: Style.requestBtn,\n            onClick: acceptCall,\n            children: \"Allow\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }, this), !isNewMeeting && !callAccepted && /*#__PURE__*/_jsxDEV(\"button\", {\n          ref: buttonRef,\n          className: Style.requestBtn,\n          onClick: () => callPeer(data.meetingID),\n          children: \"Request to join\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 46\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ChatInput, {\n        setChatData: setChatData,\n        chatData: chatData,\n        sendMessage: sendMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ChatBox, {\n        meetingID: isNewMeeting ? yourID : null,\n        chatData: chatData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 140,\n    columnNumber: 5\n  }, this);\n}\n_s(VideoChat, \"46v6ashcEM2AxuiUSRZxpDl5nuo=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = VideoChat;\nexport default VideoChat;\nvar _c;\n$RefreshReg$(_c, \"VideoChat\");","map":{"version":3,"names":["useEffect","useRef","useState","io","SimplePeer","useLocation","useNavigate","Style","ChatBox","ChatInput","Nav","jsxDEV","_jsxDEV","serverUrl","VideoChat","_s","location","navigate","isNewMeeting","state","data","yourID","setYourID","stream","setStream","receivingCall","setReceivingCall","caller","setCaller","partnerUsername","setPartnerUsername","callerSignal","setCallerSignal","callAccepted","setCallAccepted","chatData","setChatData","userVideoRef","partnerVideoRef","socketRef","buttonRef","getVideo","navigator","mediaDevices","getUserMedia","video","audio","then","mystream","current","srcObject","catch","error","console","log","on","id","users","meetingID","handleUser404","chat","prev","from","signal","username","msg","disconnect","endCall","callPeer","peer","initiator","trickle","peerData","emit","userToCall","signalData","err","acceptCall","to","sendMessage","className","videoPage","children","fileName","_jsxFileName","lineNumber","columnNumber","videoAndChatSection","videoContainer","userVideo","playsInline","muted","ref","autoPlay","partnerVideo","waitingMsg","requestMsg","requestBtn","onClick","_c","$RefreshReg$"],"sources":["/Users/lanrealegbeleye/Documents/VIDEOCHATAPP/client/src/pages/VideoChat.tsx"],"sourcesContent":["// src/App.tsx\nimport { useEffect, useRef, useState } from 'react';\nimport io from 'socket.io-client';\nimport SimplePeer from 'simple-peer';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport Style from '../Styles.module.css'\nimport ChatBox from '../components/Chat';\nimport ChatInput from '../components/ChatInput';\nimport { ChatData } from '../Data/chatData'\nimport Nav from '../components/Nav';\n\nconst serverUrl = 'http://localhost:8000';\n\nfunction VideoChat(): JSX.Element {\n\n  const location = useLocation();\n  const navigate = useNavigate();\n  const isNewMeeting = location.state.isNewMeeting; // Set this accordingly\n  const data = location.state;\n\n  const [yourID, setYourID] = useState<string>('');\n  const [stream, setStream] = useState<MediaStream>();\n  const [receivingCall, setReceivingCall] = useState<boolean>(false);\n  const [caller, setCaller] = useState<string>('');\n  const [partnerUsername, setPartnerUsername] = useState<string>('');\n  const [callerSignal, setCallerSignal] = useState<any>();\n  const [callAccepted, setCallAccepted] = useState<boolean>(false);\n  const [chatData, setChatData] = useState<ChatData[]>([])\n\n  const userVideoRef = useRef<HTMLVideoElement>(null);\n  const partnerVideoRef = useRef<HTMLVideoElement>(null);\n  const socketRef = useRef<any>();\n  const buttonRef = useRef<any>();\n\n  const getVideo = () => {\n    navigator.mediaDevices.getUserMedia({ video: true, audio: true })\n      .then((mystream: MediaStream) => {\n        setStream(mystream);\n        if (userVideoRef.current) userVideoRef.current.srcObject = mystream;\n      })\n      .catch((error) => console.log('Error accessing user media:', error));\n  }\n\n  useEffect(() => {\n    socketRef.current = io(serverUrl);\n\n    getVideo();\n\n    socketRef.current.on('yourID', (id: string) => {\n      setYourID(id);\n    });\n\n    socketRef.current.on('allUsers', (users: { [key: string]: string }) => {\n      if (!isNewMeeting && !users[data.meetingID]) handleUser404();\n    });\n\n    socketRef.current.on('recievedChat', (chat: any) => {\n      setChatData((prev: ChatData[]) => [...prev, chat.data])\n    })\n\n    socketRef.current.on('hey', (data: any) => {\n      setReceivingCall(true);\n      setCaller(data.from);\n      setCallerSignal(data.signal);\n      setPartnerUsername(data.username)\n    });\n\n    socketRef.current.on('user404', (msg: string) => {\n    })\n\n    return () => {\n      socketRef.current.disconnect();\n    };\n  }, []);\n\n\n  const handleUser404 = () => {\n    navigate(\"/\", { state: 'User does not exist' });\n  }\n\n  const endCall = () => {\n    socketRef.current.disconnect();\n    navigate(\"/\", { state: 'Call Ended' });\n  }\n\n  const callPeer = (id: string) => {\n    try {\n      const peer = new SimplePeer({\n        initiator: true,\n        trickle: false,\n        stream: stream,\n      });\n\n      peer.on('signal', (peerData: any) => {\n        socketRef.current.emit('callUser', { userToCall: id, signalData: peerData, from: yourID, username: data.username });\n      });\n\n      peer.on('stream', (stream: MediaStream) => {\n        if (partnerVideoRef.current) partnerVideoRef.current.srcObject = stream;\n      });\n\n      socketRef.current.on('callAccepted', (data: any) => {\n        setCallAccepted(true);\n        setPartnerUsername(data.username)\n        peer.signal(data.signal);\n      });\n    } catch (err) {\n      console.log(err)\n    }\n  };\n\n  const acceptCall = () => {\n    try {\n      setCallAccepted(true);\n      const peer = new SimplePeer({\n        initiator: false,\n        trickle: false,\n        stream: stream,\n      });\n\n      peer.on('signal', (peerData: any) => {\n        socketRef.current.emit('acceptCall', { signal: peerData, to: caller, username: data.username });\n      });\n\n      peer.on('stream', (stream: MediaStream) => {\n        if (partnerVideoRef.current) partnerVideoRef.current.srcObject = stream;\n      });\n\n      peer.signal(callerSignal);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const sendMessage = (msg: ChatData) => {\n    socketRef.current.emit('sentChat', { to: !isNewMeeting ? data.meetingID : caller, data: msg })\n  }\n\n  return (\n    <div className={Style.videoPage}>\n      <Nav audio={userVideoRef.current} stream={stream} endCall={endCall} />\n\n      <section className={Style.videoAndChatSection}>\n\n        <div className={Style.videoContainer}>\n\n          {partnerUsername && <p className={Style.partnerUsername}>{partnerUsername}</p>}\n          <video className={Style.userVideo} playsInline muted ref={userVideoRef} autoPlay />\n          {callAccepted && <video className={Style.partnerVideo} playsInline muted ref={partnerVideoRef} autoPlay />}\n          {!receivingCall && isNewMeeting && <p className={Style.waitingMsg}>Waiting for someone to join...</p>}\n\n          {receivingCall && !callAccepted && (\n            <div className={Style.requestMsg}>\n              <p>{caller} wants to join</p>\n              <button className={Style.requestBtn} onClick={acceptCall}>Allow</button>\n            </div>\n          )}\n\n          {!isNewMeeting && !callAccepted && <button ref={buttonRef} className={Style.requestBtn} onClick={() => callPeer(data.meetingID)}>Request to join</button>}\n        </div>\n\n        <ChatInput setChatData={setChatData} chatData={chatData} sendMessage={sendMessage} />\n        <ChatBox meetingID={isNewMeeting ? yourID : null} chatData={chatData} />\n\n      </section>\n\n    </div>\n  );\n}\n\nexport default VideoChat;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}